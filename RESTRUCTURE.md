# å°ˆæ¡ˆé‡æ§‹èªªæ˜

## ğŸ“… é‡æ§‹æ—¥æœŸ
2024å¹´12æœˆ11æ—¥

## ğŸ¯ é‡æ§‹ç›®çš„
å°‡æ‰€æœ‰ HTML é é¢é‡æ–°çµ„ç¹”åˆ°åˆ†é¡è³‡æ–™å¤¾ä¸­ï¼Œä½¿å°ˆæ¡ˆçµæ§‹æ›´æ¸…æ™°ã€æ˜“æ–¼ç¶­è­·ã€‚

---

## ğŸ“ æ–°çš„å°ˆæ¡ˆçµæ§‹

```
æœƒå“¡ç³»çµ±/
â”œâ”€â”€ index.html                    # é¦–é ï¼ˆä¿ç•™åœ¨æ ¹ç›®éŒ„ï¼‰
â”‚
â”œâ”€â”€ auth/                         # èªè­‰ç›¸é—œ
â”‚   â””â”€â”€ callback.html             # LINE Login å›èª¿è™•ç†
â”‚
â”œâ”€â”€ member/                       # æœƒå“¡ç«¯
â”‚   â”œâ”€â”€ profile.html              # æœƒå“¡å€‹äººä¸­å¿ƒ
â”‚   â””â”€â”€ edit.html                 # ç·¨è¼¯å€‹äººè³‡æ–™
â”‚
â”œâ”€â”€ admin/                        # ç®¡ç†å¾Œå°
â”‚   â”œâ”€â”€ login.html                # ç®¡ç†å“¡ç™»å…¥
â”‚   â”œâ”€â”€ dashboard.html            # å¾Œå°é¦–é 
â”‚   â”œâ”€â”€ members.html              # æœƒå“¡åˆ—è¡¨
â”‚   â”œâ”€â”€ member-detail.html        # æœƒå“¡è©³æƒ…
â”‚   â”œâ”€â”€ member-new.html           # æ–°å¢æœƒå“¡
â”‚   â””â”€â”€ member-edit.html          # ç·¨è¼¯æœƒå“¡
â”‚
â”œâ”€â”€ css/                          # æ¨£å¼æª”æ¡ˆ
â”‚   â””â”€â”€ styles.css
â”‚
â”œâ”€â”€ js/                           # JavaScript æª”æ¡ˆ
â”‚   â”œâ”€â”€ config.js                 # ç³»çµ±é…ç½®
â”‚   â”œâ”€â”€ supabase-client.js        # Supabase å®¢æˆ¶ç«¯
â”‚   â”œâ”€â”€ auth.js                   # èªè­‰åŠŸèƒ½
â”‚   â”œâ”€â”€ member.js                 # æœƒå“¡åŠŸèƒ½
â”‚   â””â”€â”€ admin.js                  # å¾Œå°åŠŸèƒ½
â”‚
â”œâ”€â”€ images/                       # åœ–ç‰‡è³‡æº
â”‚   â””â”€â”€ logo.svg
â”‚
â””â”€â”€ supabase/                     # Supabase ç›¸é—œ
    â”œâ”€â”€ schema.sql
    â”œâ”€â”€ rls-policies.sql
    â””â”€â”€ edge-functions/
```

---

## ğŸ”„ æª”æ¡ˆå°æ‡‰è¡¨

### å·²ç§»å‹•çš„æª”æ¡ˆ

| èˆŠè·¯å¾‘ | æ–°è·¯å¾‘ | èªªæ˜ |
|--------|--------|------|
| `auth-callback.html` | `auth/callback.html` | LINE ç™»å…¥å›èª¿ |
| `member-profile.html` | `member/profile.html` | æœƒå“¡å€‹äººä¸­å¿ƒ |
| `member-edit.html` | `member/edit.html` | ç·¨è¼¯æœƒå“¡è³‡æ–™ |
| `admin-login.html` | `admin/login.html` | ç®¡ç†å“¡ç™»å…¥ |
| `admin-dashboard.html` | `admin/dashboard.html` | å¾Œå°é¦–é  |
| `admin-members.html` | `admin/members.html` | æœƒå“¡åˆ—è¡¨ |
| `admin-member-detail.html` | `admin/member-detail.html` | æœƒå“¡è©³æƒ… |
| `admin-member-new.html` | `admin/member-new.html` | æ–°å¢æœƒå“¡ |
| `admin-member-edit.html` | `admin/member-edit.html` | ç·¨è¼¯æœƒå“¡ |

### ä¿ç•™åœ¨æ ¹ç›®éŒ„çš„æª”æ¡ˆ

- `index.html` - ä½œç‚ºç³»çµ±å…¥å£ï¼Œä¿ç•™åœ¨æ ¹ç›®éŒ„

---

## ğŸ”§ å·²æ›´æ–°çš„é…ç½®

### 1. config.js
```javascript
// æ›´æ–° LINE å›èª¿è·¯å¾‘
LINE_CALLBACK_PATH: '/auth/callback.html'  // åŸ: '/auth-callback.html'
```

### 2. auth.js
æ›´æ–°æ‰€æœ‰é é¢è·³è½‰è·¯å¾‘ï¼š
- `member-profile.html` â†’ `/member/profile.html`
- `index.html` â†’ `/index.html`
- `admin-login.html` â†’ `/admin/login.html`

### 3. member.js
æ›´æ–°æœƒå“¡ç›¸é—œé é¢è·¯å¾‘ï¼š
- `member-profile.html` â†’ `profile.html`ï¼ˆç›¸å°è·¯å¾‘ï¼‰

### 4. admin.js
æ›´æ–°å¾Œå°ç›¸é—œé é¢è·¯å¾‘ï¼š
- `admin-dashboard.html` â†’ `dashboard.html`
- `admin-member-detail.html` â†’ `member-detail.html`
- ç­‰ç­‰...

### 5. æ‰€æœ‰ HTML æª”æ¡ˆ
æ›´æ–°è³‡æºå¼•ç”¨è·¯å¾‘ï¼š
- `css/styles.css` â†’ `../css/styles.css`
- `js/config.js` â†’ `../js/config.js`
- `images/logo.svg` â†’ `../images/logo.svg`

---

## âš ï¸ éœ€è¦æ›´æ–°çš„å¤–éƒ¨è¨­å®š

### LINE Developers Callback URL

**èˆŠçš„ URL**ï¼š
```
https://your-domain.com/auth-callback.html
```

**æ–°çš„ URL**ï¼š
```
https://your-domain.com/auth/callback.html
```

**æ›´æ–°æ­¥é©Ÿ**ï¼š
1. å‰å¾€ [LINE Developers Console](https://developers.line.biz/console/)
2. é¸æ“‡æ‚¨çš„ Channel
3. LINE Login é ç±¤ â†’ Callback URL
4. æ›´æ–°ç‚ºæ–°çš„ URL
5. é»æ“Š Update

### æœ¬åœ°æ¸¬è©¦ URL

**èˆŠçš„**ï¼š
```
http://localhost:8000/auth-callback.html
```

**æ–°çš„**ï¼š
```
http://localhost:8000/auth/callback.html
```

---

## âœ… é‡æ§‹å®Œæˆé …ç›®

- [x] å»ºç«‹æ–°çš„è³‡æ–™å¤¾çµæ§‹ï¼ˆauth/, member/, admin/ï¼‰
- [x] å»ºç«‹æ‰€æœ‰æ–°çš„ HTML æª”æ¡ˆä¸¦æ›´æ–°è·¯å¾‘
- [x] æ›´æ–° config.js ä¸­çš„é…ç½®
- [x] æ›´æ–° auth.js ä¸­çš„æ‰€æœ‰è·³è½‰
- [x] æ›´æ–° member.js ä¸­çš„æ‰€æœ‰è·³è½‰
- [x] æ›´æ–° admin.js ä¸­çš„æ‰€æœ‰è·³è½‰
- [x] æ›´æ–° index.html
- [x] åˆªé™¤æ‰€æœ‰èˆŠçš„ HTML æª”æ¡ˆ

---

## ğŸ‰ é‡æ§‹å„ªé»

### 1. æ›´æ¸…æ™°çš„çµæ§‹
- èªè­‰ã€æœƒå“¡ã€ç®¡ç†åŠŸèƒ½æ˜ç¢ºåˆ†é›¢
- æ˜“æ–¼æ‰¾åˆ°ç›¸é—œé é¢

### 2. æ›´å¥½çš„å¯ç¶­è­·æ€§
- æ–°å¢åŠŸèƒ½æ™‚å¯ä»¥è¼•é¬†åŠ å…¥å°æ‡‰è³‡æ–™å¤¾
- åœ˜éšŠå”ä½œæ›´å®¹æ˜“åˆ†å·¥

### 3. æ›´æ˜“æ“´å±•
- æœªä¾†ç¬¬äºŒã€ä¸‰éšæ®µåŠŸèƒ½å¯ä»¥æ–°å¢è³‡æ–™å¤¾ï¼š
  - `booking/` - é ç´„ç³»çµ±
  - `wallet/` - å„²å€¼é‡‘ç®¡ç†
  - `points/` - é»æ•¸ç³»çµ±

### 4. æ›´å°ˆæ¥­çš„å‘ˆç¾
- ç¬¦åˆç¾ä»£ Web æ‡‰ç”¨çš„æ¶æ§‹æ¨™æº–
- URL æ›´èªç¾©åŒ–ï¼ˆå¦‚ `/admin/dashboard.html`ï¼‰

---

## ğŸ§ª æ¸¬è©¦æ¸…å–®

è«‹æ¸¬è©¦ä»¥ä¸‹åŠŸèƒ½ç¢ºä¿é‡æ§‹æˆåŠŸï¼š

### æœƒå“¡ç«¯
- [ ] é¦–é èƒ½æ­£å¸¸é¡¯ç¤º
- [ ] é»æ“Š LINE ç™»å…¥èƒ½æ­£å¸¸è·³è½‰
- [ ] LINE ç™»å…¥å¾Œèƒ½è¿”å›æœƒå“¡ä¸­å¿ƒï¼ˆ`/member/profile.html`ï¼‰
- [ ] æœƒå“¡ä¸­å¿ƒèƒ½æ­£å¸¸é¡¯ç¤ºè³‡æ–™
- [ ] ç·¨è¼¯è³‡æ–™é é¢èƒ½æ­£å¸¸è¼‰å…¥
- [ ] å„²å­˜è³‡æ–™å¾Œèƒ½æ­£å¸¸è¿”å›æœƒå“¡ä¸­å¿ƒ
- [ ] ç™»å‡ºåŠŸèƒ½æ­£å¸¸

### ç®¡ç†å¾Œå°
- [ ] ç®¡ç†å“¡ç™»å…¥é é¢èƒ½æ­£å¸¸é¡¯ç¤º
- [ ] ç™»å…¥æˆåŠŸå¾Œå°å‘å¾Œå°é¦–é ï¼ˆ`/admin/dashboard.html`ï¼‰
- [ ] å¾Œå°é¦–é é¡¯ç¤ºçµ±è¨ˆè³‡æ–™
- [ ] æœƒå“¡åˆ—è¡¨èƒ½æ­£å¸¸é¡¯ç¤º
- [ ] é»æ“Šæœƒå“¡é€²å…¥è©³æƒ…é é¢
- [ ] æ–°å¢æœƒå“¡åŠŸèƒ½æ­£å¸¸
- [ ] ç·¨è¼¯æœƒå“¡åŠŸèƒ½æ­£å¸¸
- [ ] åˆªé™¤æœƒå“¡åŠŸèƒ½æ­£å¸¸
- [ ] æœå°‹åŠŸèƒ½æ­£å¸¸
- [ ] åˆ†é åŠŸèƒ½æ­£å¸¸
- [ ] ç™»å‡ºåŠŸèƒ½æ­£å¸¸

### å°èˆªé€£çµ
- [ ] æ‰€æœ‰å…§éƒ¨é€£çµéƒ½èƒ½æ­£å¸¸å·¥ä½œ
- [ ] æ²’æœ‰ 404 éŒ¯èª¤
- [ ] åœ–ç‰‡ã€CSSã€JS éƒ½èƒ½æ­£å¸¸è¼‰å…¥

---

## ğŸ”§ å¦‚æœé‡åˆ°å•é¡Œ

### å•é¡Œ 1ï¼šé é¢å‡ºç¾ 404 éŒ¯èª¤
**è§£æ±ºæ–¹å¼**ï¼š
- æª¢æŸ¥ URL æ˜¯å¦æ­£ç¢º
- ç¢ºèªæª”æ¡ˆæ˜¯å¦åœ¨æ­£ç¢ºçš„è³‡æ–™å¤¾ä¸­
- æ¸…é™¤ç€è¦½å™¨å¿«å–ï¼ˆCtrl + F5ï¼‰

### å•é¡Œ 2ï¼šCSS æˆ– JS è¼‰å…¥å¤±æ•—
**è§£æ±ºæ–¹å¼**ï¼š
- æª¢æŸ¥ç€è¦½å™¨ Console çš„éŒ¯èª¤è¨Šæ¯
- ç¢ºèªè·¯å¾‘æ˜¯å¦ä½¿ç”¨ `../` æ­£ç¢ºå¼•ç”¨
- æª¢æŸ¥æª”æ¡ˆåç¨±æ˜¯å¦æ­£ç¢º

### å•é¡Œ 3ï¼šLINE Login å›èª¿å¤±æ•—
**è§£æ±ºæ–¹å¼**ï¼š
- ç¢ºèªå·²æ›´æ–° LINE Developers çš„ Callback URL
- æª¢æŸ¥ `config.js` ä¸­çš„ `LINE_CALLBACK_PATH` æ˜¯å¦ç‚º `/auth/callback.html`
- ç¢ºèª Edge Function çš„ redirect_uri è¨­å®š

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [README.md](README.md) - å°ˆæ¡ˆèªªæ˜
- [SETUP.md](SETUP.md) - è¨­å®šæŒ‡å—
- [DEPLOYMENT.md](DEPLOYMENT.md) - éƒ¨ç½²æŒ‡å—

---

## ğŸ“ éœ€è¦å”åŠ©ï¼Ÿ

å¦‚æœ‰ä»»ä½•å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. ç€è¦½å™¨ Console çš„éŒ¯èª¤è¨Šæ¯
2. Network é¢æ¿æŸ¥çœ‹å“ªäº›è³‡æºè¼‰å…¥å¤±æ•—
3. ç¢ºèªæ‰€æœ‰é…ç½®éƒ½å·²æ›´æ–°

é‡æ§‹å·²å®Œæˆï¼ç³»çµ±çµæ§‹æ›´æ¸…æ™°ï¼Œæº–å‚™è¿æ¥æ›´å¤šåŠŸèƒ½æ“´å±•ï¼ğŸ‰

